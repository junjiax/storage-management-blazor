@namespace frontendblazor.Components.Home
@using frontendblazor.Components.Home

<div
    class="group relative rounded-xl border border-slate-200 bg-white px-3 pt-3 pb-4 shadow-sm hover:shadow-md transition cursor-pointer">
    @* Badge nhỏ góc trên trái *@
    @if (!string.IsNullOrWhiteSpace(Item.Badge))
    {
        <div class="absolute left-3 top-3 rounded-full bg-rose-500 px-2 py-0.5 text-[10px] font-semibold text-white">
            @Item.Badge
        </div>
    }

    @* Ảnh sản phẩm *@
    <div class="mb-3 flex aspect-[4/3] items-center justify-center overflow-hidden rounded-lg">
        <img class="h-full w-auto object-contain transition " src="images/image.png" alt="product image" />
    </div>

    @* Tên sản phẩm *@
    <div class="min-h-[2.2rem] text-sm font-medium text-slate-900 line-clamp-2">
        @Item.Name
    </div>

    @* Giá + icon giỏ *@
    <div class="mt-2 flex items-end justify-between">
        <div>
            <div class="text-sm font-semibold text-slate-900">
                $@Item.Price
            </div>

            @* Rating sao *@
            <div class="mt-1 flex items-center text-[11px]">
                @for (var i = 1; i <= 5; i++)
                {
                    <span class="@(i <= Rating ? "text-amber-400" : "text-slate-200")">
                        ★
                    </span>
                }
            </div>
        </div>

        @* Nút giỏ hàng tròn, giống hình *@
        <button
            class="flex h-8 w-8 items-center justify-center rounded-full border border-slate-200 text-slate-500 hover:border-emerald-500 hover:text-emerald-600 transition">
            <svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M4.81669 6.48324H2.31669L0.650024 15.6499H15.65L13.9834 6.48324H11.4834M4.81669 6.48324V3.98324C4.81669 2.14229 6.30907 0.649902 8.15002 0.649902C9.99097 0.649902 11.4834 2.14229 11.4834 3.98324V6.48324M4.81669 6.48324H11.4834M4.81669 6.48324V8.98324M11.4834 6.48324V8.98324"
                    stroke="#1A1A1A" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
        </button>
    </div>

    <div class="text-center text-sm text-slate-500">

        <div class="flex items-center justify-center"> <span>1</span> <span>2</span> <span>3</span> <span>4</span>
            <span>5</span>
        </div>
    </div>

</div>

@code {
    [Parameter] public ProductItemVm Item { get; set; } = new("", "", 0m);
    [Parameter] public int Rating { get; set; } = 4;
}
